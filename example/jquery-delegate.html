<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>jQuery delegate</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      font-size: 16px;
    }
    #page {
      padding: 20px;
    }
    #btns {
      padding: 10px 20px;
    }
    #fill-data {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      display: inline-block;
      padding: 6px 15px;
      font-size: 16px;
      font-family: sans-serif;;
      line-height: 1;
      background: #eee;
      border: 1px solid #ddd;
      overflow: visible;
    }
    #data {
      padding: 10px 20px;
    }
    #data label {
      display: inline-block;
      width: 4.5em;
    }
  </style>
</head>
<body>
  <div id="page">
    <h1>Delegate element with jQuery</h1>
    <p><em>(Please check the console output)</em></p>
    <div id="btns">
      <button id="fill-data">Fill items</button>
    </div>
    <div id="data">
      <p><label>Item 1</label><input type="text" class="cell"></p>
      <p><label>Item 2</label><input type="text" class="cell"></p>
      <p><label>Item 3</label><input type="text" class="cell"></p>
      <p><label>Item 4</label><input type="text" class="cell"></p>
      <p><label>Item 5</label><input type="text" class="cell"></p>
      <p><label>Item 6</label><input type="text" class="cell"></p>
      <p><label>Item 7</label><input type="text" class="cell"></p>
      <p><label>Item 8</label><input type="text" class="cell"></p>
      <p><label>Item 9</label><input type="text" class="cell"></p>
      <p><label>Item 10</label><input type="text" class="cell"></p>
      <p><label>Item 11</label><input type="text" class="cell"></p>
      <p><label>Item 12</label><input type="text" class="cell"></p>
      <p><label>Item 13</label><input type="text" class="cell"></p>
      <p><label>Item 14</label><input type="text" class="cell"></p>
      <p><label>Item 15</label><input type="text" class="cell"></p>
      <p><label>Item 16</label><input type="text" class="cell"></p>
      <p><label>Item 17</label><input type="text" class="cell"></p>
      <p><label>Item 18</label><input type="text" class="cell"></p>
      <p><label>Item 19</label><input type="text" class="cell"></p>
      <p><label>Item 20</label><input type="text" class="cell"></p>
      <p><label>Item 21</label><input type="text" class="cell"></p>
      <p><label>Item 22</label><input type="text" class="cell"></p>
      <p><label>Item 23</label><input type="text" class="cell"></p>
      <p><label>Item 24</label><input type="text" class="cell"></p>
      <p><label>Item 25</label><input type="text" class="cell"></p>
      <p><label>Item 26</label><input type="text" class="cell"></p>
      <p><label>Item 27</label><input type="text" class="cell"></p>
      <p><label>Item 28</label><input type="text" class="cell"></p>
      <p><label>Item 29</label><input type="text" class="cell"></p>
      <p><label>Item 30</label><input type="text" class="cell"></p>
      <p><label>Item 31</label><input type="text" class="cell"></p>
      <p><label>Item 32</label><input type="text" class="cell"></p>
      <p><label>Item 33</label><input type="text" class="cell"></p>
      <p><label>Item 34</label><input type="text" class="cell"></p>
      <p><label>Item 35</label><input type="text" class="cell"></p>
      <p><label>Item 36</label><input type="text" class="cell"></p>
      <p><label>Item 37</label><input type="text" class="cell"></p>
      <p><label>Item 38</label><input type="text" class="cell"></p>
      <p><label>Item 39</label><input type="text" class="cell"></p>
      <p><label>Item 40</label><input type="text" class="cell"></p>
      <p><label>Item 41</label><input type="text" class="cell"></p>
      <p><label>Item 42</label><input type="text" class="cell"></p>
      <p><label>Item 43</label><input type="text" class="cell"></p>
      <p><label>Item 44</label><input type="text" class="cell"></p>
      <p><label>Item 45</label><input type="text" class="cell"></p>
      <p><label>Item 46</label><input type="text" class="cell"></p>
      <p><label>Item 47</label><input type="text" class="cell"></p>
      <p><label>Item 48</label><input type="text" class="cell"></p>
      <p><label>Item 49</label><input type="text" class="cell"></p>
      <p><label>Item 50</label><input type="text" class="cell"></p>
      <p><label>Item 51</label><input type="text" class="cell"></p>
      <p><label>Item 52</label><input type="text" class="cell"></p>
      <p><label>Item 53</label><input type="text" class="cell"></p>
      <p><label>Item 54</label><input type="text" class="cell"></p>
      <p><label>Item 55</label><input type="text" class="cell"></p>
      <p><label>Item 56</label><input type="text" class="cell"></p>
      <p><label>Item 57</label><input type="text" class="cell"></p>
      <p><label>Item 58</label><input type="text" class="cell"></p>
      <p><label>Item 59</label><input type="text" class="cell"></p>
      <p><label>Item 60</label><input type="text" class="cell"></p>
      <p><label>Item 61</label><input type="text" class="cell"></p>
      <p><label>Item 62</label><input type="text" class="cell"></p>
      <p><label>Item 63</label><input type="text" class="cell"></p>
      <p><label>Item 64</label><input type="text" class="cell"></p>
      <p><label>Item 65</label><input type="text" class="cell"></p>
      <p><label>Item 66</label><input type="text" class="cell"></p>
      <p><label>Item 67</label><input type="text" class="cell"></p>
      <p><label>Item 68</label><input type="text" class="cell"></p>
      <p><label>Item 69</label><input type="text" class="cell"></p>
      <p><label>Item 70</label><input type="text" class="cell"></p>
      <p><label>Item 71</label><input type="text" class="cell"></p>
      <p><label>Item 72</label><input type="text" class="cell"></p>
      <p><label>Item 73</label><input type="text" class="cell"></p>
      <p><label>Item 74</label><input type="text" class="cell"></p>
      <p><label>Item 75</label><input type="text" class="cell"></p>
      <p><label>Item 76</label><input type="text" class="cell"></p>
      <p><label>Item 77</label><input type="text" class="cell"></p>
      <p><label>Item 78</label><input type="text" class="cell"></p>
      <p><label>Item 79</label><input type="text" class="cell"></p>
      <p><label>Item 80</label><input type="text" class="cell"></p>
      <p><label>Item 81</label><input type="text" class="cell"></p>
      <p><label>Item 82</label><input type="text" class="cell"></p>
      <p><label>Item 83</label><input type="text" class="cell"></p>
      <p><label>Item 84</label><input type="text" class="cell"></p>
      <p><label>Item 85</label><input type="text" class="cell"></p>
      <p><label>Item 86</label><input type="text" class="cell"></p>
      <p><label>Item 87</label><input type="text" class="cell"></p>
      <p><label>Item 88</label><input type="text" class="cell"></p>
      <p><label>Item 89</label><input type="text" class="cell"></p>
      <p><label>Item 90</label><input type="text" class="cell"></p>
      <p><label>Item 91</label><input type="text" class="cell"></p>
      <p><label>Item 92</label><input type="text" class="cell"></p>
      <p><label>Item 93</label><input type="text" class="cell"></p>
      <p><label>Item 94</label><input type="text" class="cell"></p>
      <p><label>Item 95</label><input type="text" class="cell"></p>
      <p><label>Item 96</label><input type="text" class="cell"></p>
      <p><label>Item 97</label><input type="text" class="cell"></p>
      <p><label>Item 98</label><input type="text" class="cell"></p>
      <p><label>Item 99</label><input type="text" class="cell"></p>
      <p><label>Item 100</label><input type="text" class="cell"></p>
    </div>
  </div>
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.2.min.js"></script>
  <script src="../timer-input.js"></script>
  <script>
    $(function() {
      var $data = $('#data');
      var $cells = $data.find('.cell');

      var timerInputs = $cells.map(function() {
        return new TimerInput(this, { bindEvent: false }, function(e) {
          console.log(Array(81).join('-'));
          console.log('TimerInputEvent Object: ');
          console.log(e);
          console.log('this : ');
          console.log(this);
        });
      });

      $data.on('focus', '.cell', function() {
        var idx = $cells.index(this);
        if (idx > -1) {
          timerInputs.get(idx).start();
        }
      }).on('blur', '.cell', function() {
        var idx = $cells.index(this);
        if (idx > -1) {
          timerInputs.get(idx).stop();
        }
      });

      $('#fill-data').on('click', function() {
        timerInputs.each(function(i) {
          this.set('index: ' + i);
        });
      });
    });
  </script>
</body>
</html>