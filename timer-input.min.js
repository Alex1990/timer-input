!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.TimerInput=t()}(this,function(){"use strict";function e(n,s){if(!(this instanceof e))return new e(n,s);var o=this;o.elem=n,o.lastValue=n.value,o.listeners=[],o.onFocusChange=function(e){e=e||window.event,"focus"===e.type?o.timerId=setInterval(function(){o.lastValue!==n.value&&(o.trigger({oldValue:o.lastValue,newValue:n.value}),o.lastValue=n.value)},t):setTimeout(function(){clearInterval(o.timerId)},0)},i(n,"focus",o.onFocusChange),i(n,"blur",o.onFocusChange),o.on(s)}var t=1e3/60,n=Array.prototype.slice,i=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e[t+n]=n,e.attachEvent("on"+t,e[t+n]))},s=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,e[t+n])},o=e.prototype;return o.get=function(){return this.elem.value},o.set=function(e){var t=this.elem.value;e+="",this.elem.value=e,this.trigger({oldValue:t,newValue:e})},o.on=function(e){"function"==typeof e&&this.listeners.push(e)},o.off=function(e){null==e&&(this.listeners=[]);for(var t=0,n=this.listeners.length;n>t;t++)this.listeners[t]===e&&this.listeners.splice(t,1)},o.trigger=function(){for(var e=n.call(arguments),t=0,i=this.listeners.length;i>t;t++)this.listeners[t].apply(this.elem,e)},o.destroy=function(){clearInterval(this.timerId),s(this.elem,"focus",this.onFocusChange),s(this.elem,"blur",this.onFocusChange)},e});