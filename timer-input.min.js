!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.TimerInput=t()}(this,function(){"use strict";function e(e,n){var i=this;i.elem=e,i.lastValue=e.value,i.listeners=[],i.onFocusChange=function(n){n=n||window.event,"focus"===n.type?i.timerId=setInterval(function(){i.lastValue!==e.value&&(i.trigger({oldValue:i.lastValue,newValue:e.value}),i.lastValue=e.value)},t):setTimeout(function(){clearInterval(i.timerId)},0)},s(e,"focus",i.onFocusChange),s(e,"blur",i.onFocusChange),i.on(n)}var t=1e3/60,n=Array.prototype.slice,s=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e[t+n]=n,e.attachEvent("on"+t,e[t+n]))},i=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,e[t+n])},o=e.prototype;return o.get=function(){return this.elem.value},o.set=function(e){var t=this.elem.value;this.elem.value=e,this.trigger({oldValue:t,newValue:e})},o.on=function(e){"function"==typeof e&&this.listeners.push(e)},o.off=function(e){null==e&&(this.listeners=[]);for(var t=0,n=this.listeners.length;n>t;t++)this.listeners[t]===e&&this.listeners.splice(t,1)},o.trigger=function(){for(var e=n.call(arguments),t=0,s=this.listeners.length;s>t;t++)this.listeners[t].apply(this.elem,e)},o.destroy=function(){clearInterval(this.timerId),i(this.elem,"focus",this.onFocusChange),i(this.elem,"blur",this.onFocusChange)},e});