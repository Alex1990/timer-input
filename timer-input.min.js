!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.TimerInput=t()}(this,function(){"use strict";function e(e){this.oldValue=e.oldValue,this.newValue=e.newValue}function t(s,o){if(!(this instanceof t))return new t(s,o);var u=this;u.elem=s,u.lastValue=s.value,u.listeners=[],u._onFocusChange=function(t){t=t||window.event,"focus"===t.type?u.timerId=setInterval(function(){u.lastValue!==s.value&&(u.trigger(new e({oldValue:u.lastValue,newValue:s.value})),u.lastValue=s.value)},i):setTimeout(function(){clearInterval(u.timerId)},l)},n(s,"focus",u._onFocusChange),n(s,"blur",u._onFocusChange),u.on(o)}var n=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e[t+n]=n,e.attachEvent("on"+t,e[t+n]))},s=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,e[t+n])},i=1e3/60,l=100,o=t.prototype;return o.get=function(){return this.elem.value},o.set=function(t){var n=this.elem.value;t+="",this.elem.value=t,this.trigger(new e({oldValue:n,newValue:t})),this.lastValue=t},o.on=function(e){"function"==typeof e&&this.listeners.push(e)},o.off=function(e){null==e&&(this.listeners=[]);for(var t=0,n=this.listeners.length;n>t;t++)this.listeners[t]===e&&this.listeners.splice(t,1)},o.trigger=function(){for(var e=Array.prototype.slice.call(arguments),t=0,n=this.listeners.length;n>t;t++)this.listeners[t].apply(this.elem,e)},o.destroy=function(){clearInterval(this.timerId),s(this.elem,"focus",this._onFocusChange),s(this.elem,"blur",this._onFocusChange),this.elem=this.timerId=this.lastValue=this._onFocusChange=this.listeners=null},t});